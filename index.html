<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>AI Resume Analyzer â€” Erick Dronski</title>
  <meta name="description" content="Upload your resume PDF and get a personalized 50+ point analysis with recruiterâ€‘grade recommendations. Free and unlimited." />
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = { theme: { extend: { colors: { brand: { purple: '#8B5CF6', blue: '#3B82F6', ink: '#0b1220' } } } } }
  </script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/4.4.168/pdf.min.js" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <style>
    html, body { background: radial-gradient(1200px 600px at 50% -100px, rgba(139,92,246,0.15), transparent 60%) #0b1220; color: #e6e9f5; }
    .glass { backdrop-filter: blur(12px); background: rgba(15,23,42,0.6); border: 1px solid rgba(148,163,184,0.15); }
    .ok  { color:#8B5CF6 }
    .bad { color:#f43f5e }
  </style>
</head>
<body class="min-h-screen">
  <header class="relative overflow-hidden">
    <div class="mx-auto max-w-6xl px-6 pt-12 pb-8">
      <div class="inline-flex items-center gap-2 rounded-full border border-purple-300/20 bg-purple-300/10 px-4 py-1 text-sm text-purple-200">
        <span>âš¡ Free & Unlimited</span><span class="opacity-50">â€¢</span><span>Checks 50+ criteria</span><span class="opacity-50">â€¢</span><span>Beat ATS & AI scanners</span>
      </div>
      <h1 class="mt-5 text-4xl md:text-6xl font-extrabold tracking-tight flex items-center gap-2">
        <span class="text-purple-300 text-5xl">ðŸ§ </span>
        <span class="bg-gradient-to-r from-purple-200 via-purple-400 to-blue-200 bg-clip-text text-transparent">AI Resume Analyzer</span>
      </h1>
      <p class="mt-4 max-w-3xl text-white/80 text-lg">Upload your resume and get a recruiterâ€‘grade score out of 100 plus targeted fixes to <span class="font-semibold text-purple-200">improve your odds in the job market</span> and <span class="font-semibold text-blue-300">outcompete AI scanners</span>. Completely free. Unlimited runs.</p>
      <div class="glass mt-8 rounded-2xl p-6">
        <div id="dropZone" class="flex flex-col md:flex-row items-center gap-4 border-2 border-dashed border-purple-400/40 rounded-xl p-6 justify-center text-center">
          <label for="fileInput" class="inline-flex items-center rounded-xl bg-purple-500/20 px-4 py-2 text-purple-200 hover:bg-purple-500/30 cursor-pointer">Browse files</label>
          <input id="fileInput" type="file" accept="application/pdf,text/plain" class="sr-only" />
          <span id="fileName" class="ml-3 text-sm text-white/60"></span>
          <button id="analyzeBtn" class="rounded-xl bg-purple-400 text-black px-6 py-3 font-semibold hover:bg-purple-300 disabled:opacity-50" disabled>Analyze Resume</button>
        </div>
        <p class="mt-2 text-sm text-white/60">Supported: PDF (recommended) or plain .txt. Your file never leaves your browser.</p>
      </div>
    </div>
  </header>

  <main class="mx-auto max-w-6xl px-6 pb-24">
    <section id="results" class="hidden">
      <div class="grid md:grid-cols-3 gap-6 mt-10">
        <div class="glass rounded-2xl p-6 flex items-center justify-center">
          <div class="relative">
            <svg width="140" height="140" viewBox="0 0 140 140">
              <circle cx="70" cy="70" r="54" stroke="#334155" stroke-width="12" fill="none"></circle>
              <circle id="scoreArc" cx="70" cy="70" r="54" stroke="#8B5CF6" stroke-width="12" fill="none" stroke-linecap="round" stroke-dasharray="339.292" stroke-dashoffset="339.292"></circle>
            </svg>
            <div class="absolute inset-0 flex items-center justify-center">
              <div class="text-center"><div id="scoreLabel" class="text-3xl font-extrabold">0</div><div class="text-sm text-white/60">/100</div></div>
            </div>
          </div>
        </div>
        <div class="glass rounded-2xl p-6">
          <div id="seniorityBadge" class="text-sm text-white/70">Seniority: â€”</div>
          <div id="industryBadge" class="text-sm text-white/70">Industry: â€”</div>
          <div id="interestBadge" class="text-sm text-white/70">Recruiter interest: â€”</div>
          <h3 class="mt-4 font-semibold">Summary</h3>
          <p id="summary" class="text-white/80 mt-1 text-sm"></p>
          <div id="encouragement" class="mt-3 hidden text-emerald-300 text-sm">ðŸŽ‰ High-signal resume. Youâ€™re in the top tierâ€”tighten tailoring and outcomes for an even stronger shot.</div>
        </div>
        <div class="glass rounded-2xl p-6">
          <h3 class="font-semibold">Recruiterâ€™s POV</h3>
          <p id="recruiterPOV" class="text-white/80 mt-2 text-sm"></p>
          <button id="downloadBtn" class="mt-6 rounded-xl bg-purple-400 text-black px-4 py-2 font-semibold hover:bg-purple-300">Download Report</button>
        </div>
      </div>
      <div class="grid md:grid-cols-2 gap-6 mt-6">
        <div class="glass rounded-2xl p-6"><h3 class="font-semibold">Priority Fixes</h3><ol id="topRecs" class="mt-3 list-decimal list-inside space-y-2 text-sm"></ol></div>
        <div class="glass rounded-2xl p-6"><h3 class="font-semibold">50+ Point Checklist</h3><div id="checklist" class="mt-3 space-y-2 text-sm"></div></div>
      </div>
    </section>
  </main>

  <footer class="border-t border-white/10 py-10 text-center text-white/50 text-sm">Built for job seekers. Free & unlimited. Erick Dronski Portfolio.</footer>

<script>
  // Input + DnD
  const fileInput = document.getElementById('fileInput');
  const fileName  = document.getElementById('fileName');
  const analyzeBtn = document.getElementById('analyzeBtn');
  const dropZone = document.getElementById('dropZone');
  fileInput.addEventListener('change', ()=>{ const f=fileInput.files&&fileInput.files[0]; if(f){ fileName.textContent='Selected: '+f.name; analyzeBtn.disabled=false; }});
  ['dragenter','dragover'].forEach(evt=>dropZone.addEventListener(evt,(e)=>{e.preventDefault();dropZone.classList.add('border-purple-300/60');}));
  ['dragleave','drop'].forEach(evt=>dropZone.addEventListener(evt,(e)=>{e.preventDefault();dropZone.classList.remove('border-purple-300/60');}));
  dropZone.addEventListener('drop',(e)=>{ const f=e.dataTransfer&&e.dataTransfer.files&&e.dataTransfer.files[0]; if(f){ fileInput.files=e.dataTransfer.files; fileInput.dispatchEvent(new Event('change')); }});
  ['dragover','drop'].forEach(evt=>window.addEventListener(evt,e=>e.preventDefault()));
</script>

<script>
(()=>{
  // PDF.js safe mode
  if (window.pdfjsLib){ try{ pdfjsLib.GlobalWorkerOptions.workerSrc='https://cdnjs.cloudflare.com/ajax/libs/pdf.js/4.4.168/pdf.worker.min.js'; if(typeof pdfjsLib.disableWorker==='boolean') pdfjsLib.disableWorker=true; }catch(e){} }

  async function fileToText(file){
    if(!file) throw new Error('No file');
    const isPdf = (file.name||'').toLowerCase().endsWith('.pdf') || ((file.type||'').indexOf('pdf')!==-1);
    if(isPdf && window.pdfjsLib){
      try{
        const buf=await file.arrayBuffer();
        const pdf=await pdfjsLib.getDocument({data:buf}).promise;
        let text='';
        for(let p=1;p<=pdf.numPages;p++){ const page=await pdf.getPage(p); const c=await page.getTextContent(); for(const it of c.items){ text+=it.str+' '; } text+='
'; }
        if(text.trim().length>5) return text;
      }catch(e){ /* fallback to txt */ }
    }
    return await file.text();
  }

  // Helpers without regex backslashes that upset the canvas engine
  function includesWord(t, w){ return (t||'').toLowerCase().indexOf(w)>=0; }
  function containsAny(t, arr){ t=(t||'').toLowerCase(); for(const w of arr){ if(t.indexOf(w)!==-1) return true; } return false; }
  function hasDigits(t){ for(const ch of (t||'')){ if(ch>='0'&&ch<='9') return true; } return false; }
  function hasMetric(t){ if(!hasDigits(t)) return false; const u=['%','$','users','customers','revenue','growth','roi','leads','transactions','latency','speed','hours','k','m','x']; t=(t||'').toLowerCase(); for(const x of u){ if(t.indexOf(x)!==-1) return true; } return false; }
  function capsOveruse(t){ const words=(t||'').split(' '); let caps=0; for(const w of words){ let hasAZ=false; for(const ch of w){ if(ch>='A'&&ch<='Z'){ hasAZ=true; break; } } if(w.length>4 && hasAZ && w===w.toUpperCase()) caps++; } return caps>30; }
  function seniority(text){ const toks=(text||'').toLowerCase().split(/[^a-z0-9+.#-]+/); let yrs=0; for(let i=0;i<toks.length;i++){ if(toks[i]==='years'||toks[i]==='yrs'){ const n=parseInt(toks[i-1],10); if(!isNaN(n)) yrs=Math.max(yrs,n); } } if(yrs>=12) return 'executive'; if(yrs>=7) return 'senior'; if(yrs>=3) return 'mid'; return 'junior'; }
  function industry(text){ const K={software:['javascript','python','react','node','api','aws','docker','kubernetes','sql','ml','ai'],data:['data','analytics','etl','warehouse','dbt','spark','tableau'],finance:['fintech','cfa','risk','valuation','portfolio','trading'],marketing:['seo','sem','campaign','crm','engagement'],healthcare:['clinical','ehr','hipaa','trial'],design:['figma','ux','ui','wireframe']}; const t=(text||'').toLowerCase(); let best='general',hits=0; for(const k in K){ const ws=K[k]; let c=0; for(const w of ws){ if(t.indexOf(w)!==-1) c++; } if(c>hits){hits=c;best=k;} } return best; }

  const ACTION=['led','built','created','launched','designed','implemented','delivered','optimized','deployed','improved','increased','reduced','scaled','migrated','automated','spearheaded','managed','owned','drove','analyzed','developed','mentored'];
  const SOFT={leadership:['led','managed','mentored','owned','spearheaded','director','head of'],teamwork:['collaborated','partnered','cross-functional','stakeholders'],problem:['solved','debugged','root cause','postmortem','incident']};

  const CRIT=[]; const add=(l,w,ch,r)=>CRIT.push({label:l,weight:w,check:ch,rec:r});
  add('Has contact info (email/phone)',3,c=>includesWord(c.t,'@')||c.t.replace(/[^0-9]/g,'').length>=7,'Add email & phone in header.');
  add('LinkedIn/portfolio link',2,c=>includesWord(c.t,'linkedin.com')||includesWord(c.t,'github.com')||includesWord(c.t,'portfolio'),'Link LinkedIn/portfolio.');
  add('Concise professional summary',2,c=>includesWord(c.t,'summary')||includesWord(c.t,'objective')||includesWord(c.t,'profile'),'Add a 2â€“3 sentence value summary.');
  add('Clear sections',3,c=>includesWord(c.t,'experience')&&includesWord(c.t,'education')&&includesWord(c.t,'skills'),'Use standard sections.');
  add('Uses bullet points',2,c=>c.t.indexOf('â€¢')!==-1||c.t.indexOf('- ')!==-1,'Use bullets for scannability.');
  add('1â€“2 pages max',2,c=>c.pages<=2,'Keep to 1 page (junior) or 1â€“2 (senior).');
  add('ATS-safe formatting',2,c=>!(includesWord(c.t,'table')||includesWord(c.t,'headshot')||includesWord(c.t,'photo')),'Avoid tables/images/headshots.');
  add('Includes metrics/quant results',4,c=>hasMetric(c.t),'Quantify results (%, $, time saved).');
  add('Strong action verbs',3,c=>containsAny(c.t,ACTION),'Lead bullets with strong verbs.');
  add('Focus on achievements over responsibilities',2,c=>!(includesWord(c.t,'responsible for')||includesWord(c.t,'duties include')),'Rephrase to outcomes.');
  add('Leadership signals present',1,c=>containsAny(c.t,SOFT.leadership),'Show leadership (mentored/led/owned).');
  add('Teamwork signals',1,c=>containsAny(c.t,SOFT.teamwork),'Mention partners & stakeholders.');
  add('Problem-solving signals',1,c=>containsAny(c.t,SOFT.problem),'Describe diagnosis & fix.');
  add('Avoid ALL-CAPS overuse',1,c=>!capsOveruse(c.t),'Reserve ALL-CAPS for headings.');
  add('Dedicated Skills section',2,c=>includesWord(c.t,'skills'),'Add a curated Skills section.');
  add('Each role has dates',2,c=>c.t.indexOf('20')!==-1,'Add month/year ranges.');
  add('Education listed',1,c=>includesWord(c.t,'education')||includesWord(c.t,'bachelor')||includesWord(c.t,'master')||includesWord(c.t,'university')||includesWord(c.t,'degree'),'Add education (degree/school).');
  add('Low typo risk',3,c=>{ const parts=c.t.split(' '); let weird=0; for(const w of parts){ if(w.length>20){ let ok=true; for(const ch of w){ const isOk = (ch==='_'||ch==='@'||ch==='.'||ch===','||ch==='&'||ch==='-'||(ch>='0'&&ch<='9')||(ch>='A'&&ch<='Z')||(ch>='a'&&ch<='z')); if(!isOk){ ok=false; break; } } if(!ok) weird++; } } return weird<10; },'Run a spell/grammar pass.');

  function analyze(text,file){
    const ctx={ t:text||'', pages:(text.split('').length), name:file&&file.name };
    let score=100; const results=[];
    for(const c of CRIT){ const pass=!!c.check(ctx); if(!pass) score-=c.weight; results.push({label:c.label,pass,rec:c.rec,weight:c.weight}); }
    if(score<0) score=0; if(score>100) score=100;
    const failed=results.filter(r=>!r.pass).sort((a,b)=>b.weight-a.weight).slice(0,8);
    const wins=results.filter(r=>r.pass).slice(0,5).map(r=>r.label);
    const sen=seniority(text); const ind=industry(text);
    const interest = score>=90?5:score>=80?4:score>=70?3:score>=60?2:1;
    const summary='Your resume is calibrated for a '+sen+' '+ind+' candidate. We analyzed '+CRIT.length+'+ signals across structure, clarity, impact, skills, soft skills, and ATS compatibility.';
    const pov=(score>=90?('â€œHighâ€‘signal '+sen+' '+ind+'. Shortlist material. What shines: '+wins.join(', ')+'. Next: tailor to top role priorities and add 1â€“2 business outcomes.â€'):
               score>=75?('â€œStrong '+sen+' '+ind+'. Interview likely. What shines: '+wins.join(', ')+'. Next: tighten metrics and alignment.â€'):
               score>=60?('â€œPromising foundation. Clarify impact with numbers and improve formatting for quick scan.â€'):
                          'â€œKey elements are missing. Fix fundamentals (contact, sections, quantified results) to get traction.â€');
    return {score,failed,wins,summary,sen,ind,interest,pov,results};
  }

  const resultsEl=document.getElementById('results');
  const sArc=document.getElementById('scoreArc');
  const sLab=document.getElementById('scoreLabel');
  const badges={sen:document.getElementById('seniorityBadge'),ind:document.getElementById('industryBadge'),interest:document.getElementById('interestBadge')};

  document.getElementById('analyzeBtn').addEventListener('click', async ()=>{
    const f=fileInput.files&&fileInput.files[0]; if(!f){ alert('Please choose a PDF or TXT file first.'); return; }
    analyzeBtn.disabled=true; analyzeBtn.textContent='Analyzingâ€¦';
    try{
      const text=await fileToText(f); const r=analyze(text,f);
      resultsEl.classList.remove('hidden'); const C=339.292; if(sArc) sArc.style.strokeDashoffset=String(C*(1-r.score/100)); if(sLab) sLab.textContent=String(Math.round(r.score));
      if(badges.sen) badges.sen.textContent='Seniority: '+r.sen; if(badges.ind) badges.ind.textContent='Industry: '+r.ind; if(badges.interest) badges.interest.textContent='Recruiter interest: '+r.interest+'/5';
      document.getElementById('summary').textContent=r.summary; document.getElementById('recruiterPOV').textContent=r.pov; const encour=document.getElementById('encouragement'); if(encour) encour.classList.toggle('hidden', r.score<90);
      const top=document.getElementById('topRecs'); top.innerHTML=''; r.failed.forEach(it=>{ const li=document.createElement('li'); li.innerHTML='<span class="font-semibold">'+it.label+'</span> â€” '+it.rec; top.appendChild(li); });
      const list=document.getElementById('checklist'); list.innerHTML=''; r.results.forEach(it=>{ const div=document.createElement('div'); div.className='flex items-start gap-3 rounded-xl border border-white/10 bg-white/5 p-3'; div.innerHTML='<div class="mt-1 '+(it.pass?'ok':'bad')+'">'+(it.pass?'âœ”':'âœ–')+'</div><div><div class="font-medium">'+it.label+'</div><div class="text-sm text-white/70">'+(it.pass?'Looks good.':it.rec)+'</div></div>'; list.appendChild(div); });
      document.getElementById('downloadBtn').onclick=()=>{ const html='<!doctype html><html><head><meta charset="utf-8"><title>AI Resume Report</title><style>body{font-family:system-ui,Segoe UI,Arial;max-width:900px;margin:40px auto;background:#0b1220;color:#e6e9f5} .card{background:#111827;padding:16px;border-radius:14px;margin:10px 0;border:1px solid #334155} .ok{color:#8B5CF6}.bad{color:#ef4444} .muted{color:#a3a3a3}</style></head><body><h1>AI Resume Analyzer â€” Report</h1><div class="muted">Score: <b>'+Math.round(r.score)+'</b>/100 â€¢ Interest: '+r.interest+'/5 â€¢ Seniority: '+r.sen+' â€¢ Industry: '+r.ind+'</div><div class="card"><h3>Recruiterâ€™s POV</h3><blockquote>'+r.pov+'</blockquote></div><div class="card"><h3>Summary</h3><p>'+r.summary+'</p>'+((r.score>=90)?'<p><b>Encouragement:</b> Youâ€™re very close to bestâ€‘inâ€‘stack. Add business outcomes and leadership signals to seal it.</p>':'')+'</div><div class="card"><h3>Priority Fixes</h3><ol>'+r.failed.map(x=>'<li><b>'+x.label+':</b> '+x.rec+'</li>').join('')+'</ol></div><div class="card"><h3>Checklist</h3>'+r.results.map(x=>'<div><span class="'+(x.pass?'ok':'bad')+'">'+(x.pass?'âœ”':'âœ–')+'</span> '+x.label+(x.pass?'':' â€” '+x.rec)+'</div>').join('')+'</div><p class="muted">Generated locally in your browser. Reâ€‘run after edits to watch your score rise.</p></body></html>'; const blob=new Blob([html],{type:'text/html'}); const url=URL.createObjectURL(blob); const a=document.createElement('a'); a.href=url; a.download='AI_Resume_Report.html'; a.click(); setTimeout(()=>URL.revokeObjectURL(url),1000); };
      window.scrollTo({ top: resultsEl.offsetTop - 20, behavior: 'smooth' });
    }catch(err){ console.error(err); alert('Analyze failed. If this was a scanned PDF (imageâ€‘only), export a textâ€‘based PDF or upload .txt.'); }
    finally{ analyzeBtn.disabled=false; analyzeBtn.textContent='Analyze Resume'; }
  });
})();
</script>
</body>
</html>
